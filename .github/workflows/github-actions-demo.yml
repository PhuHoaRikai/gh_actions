name: Deploy vue app to GitHub Pages

on:
  push:
    branches:
      - main
jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@main

    - name: Build
      run: |
        yarn install
        yarn build
    - name: Build and Deploy
      uses: actions/setup-node@main
      env:
        COMMIT_EMAIL: hoa.tran@rikai.technology
        COMMIT_NAME: PhuHoaRikai
        ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
        BASE_BRANCH: main # The branch you want to build
        DEPLOY_BRANCH: gh-pages # The branch you want to deploy
        BUILD_SCRIPT: yarn && yarn build # The build script
        FOLDER: .nuxt # The folder generated by build script

      # uses: actions/setup-node@main
      # with:
      #   ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
      #   BASE_BRANCH: main
      #   BRANCH: gh-pages
      #   FOLDER: .nuxt


